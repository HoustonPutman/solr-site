<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Schemaless Mode | Apache Solr Reference Guide</title>

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-solr.css">
<link rel="stylesheet" href="css/ref-guide.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="Apache Solr Reference Guide" href="https://home.apache.org/~ctargett/RefGuidePOC/jekyll-full/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // we do *NOT* want cookies used to save the current stage of the sidebar
                             // instead the code in sidebar.html will ensure that the current page
                             // (and it's ancestors) are "active" on page load
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="apache-solr-reference-guide.html">&nbsp;<span class="projectTitle"> Solr Ref Guide 7.0</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- Link to Solr website -->
                <li><a href="https://lucene.apache.org/solr/news" target="_blank">Solr News</a></li>
                <!-- Solr Resources dropdown -->
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Solr Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                       <li><a href="https://lucene.apache.org/solr/7_0_0//solr-core/index.html" target="_blank">Solr Javadocs</a></li>
                       <li><a href="https://git1-us-west.apache.org/repos/asf?p=lucene-solr.git" target="_blank">Lucene/Solr Source Code</a></li>
                       <li><a href="https://lucene.apache.org/solr/resources.html#community" target="_blank">Solr Community Links</a></li>
                    </ul>
                </li>
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Schemaless Mode">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div class="col-lg-12">&nbsp;</div>
  <!-- Content Row -->
  <div class="row">
    <!-- Sidebar Column -->
    <div class="col-md-3">
      

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Apache Solr Reference Guide <!-- TODO: version from site.data --></li>
  
  <li class="sb-level1">
    <a href="about-this-guide.html">About This Guide</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="getting-started.html">Getting Started</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="installing-solr.html">Installing Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="running-solr.html">Running Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="a-quick-overview.html">A Quick Overview</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="a-step-closer.html">A Step Closer</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-control-script-reference.html">Solr Control Script Reference</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="upgrading-solr.html">Upgrading Solr</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="using-the-solr-administration-user-interface.html">Using the Solr Administration User Interface</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="overview-of-the-solr-admin-ui.html">Overview of the Solr Admin UI</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="getting-assistance.html">Getting Assistance</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="logging.html">Logging</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="cloud-screens.html">Cloud Screens</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="collections-core-admin.html">Collections / Core Admin</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="java-properties.html">Java Properties</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="thread-dump.html">Thread Dump</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="collection-specific-tools.html">Collection-Specific Tools</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="analysis-screen.html">Analysis Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="dataimport-screen.html">Dataimport Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="documents-screen.html">Documents Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="files-screen.html">Files Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="query-screen.html">Query Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="stream-screen.html">Stream Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="schema-browser-screen.html">Schema Browser Screen</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="core-specific-tools.html">Core-Specific Tools</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="ping.html">Ping</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="plugins-stats-screen.html">Plugins &amp; Stats Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="replication-screen.html">Replication Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="segments-info.html">Segments Info</a>
            
          </li>
          
        </ul>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="documents-fields-and-schema-design.html">Documents, Fields, and Schema Design</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="overview-of-documents-fields-and-schema-design.html">Overview of Documents, Fields, and Schema Design</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-field-types.html">Solr Field Types</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="field-type-definitions-and-properties.html">Field Type Definitions and Properties</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="field-types-included-with-solr.html">Field Types Included with Solr</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-currencies-and-exchange-rates.html">Working with Currencies and Exchange Rates</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-dates.html">Working with Dates</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-enum-fields.html">Working with Enum Fields</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-external-files-and-processes.html">Working with External Files and Processes</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="field-properties-by-use-case.html">Field Properties by Use Case</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="defining-fields.html">Defining Fields</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="copying-fields.html">Copying Fields</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="dynamic-fields.html">Dynamic Fields</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="other-schema-elements.html">Other Schema Elements</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="schema-api.html">Schema API</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="putting-the-pieces-together.html">Putting the Pieces Together</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="docvalues.html">DocValues</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="schemaless-mode.html">Schemaless Mode</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="understanding-analyzers-tokenizers-and-filters.html">Understanding Analyzers, Tokenizers, and Filters</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="analyzers.html">Analyzers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="about-tokenizers.html">About Tokenizers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="about-filters.html">About Filters</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="tokenizers.html">Tokenizers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="filter-descriptions.html">Filter Descriptions</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="charfilterfactories.html">CharFilterFactories</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="language-analysis.html">Language Analysis</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="phonetic-matching.html">Phonetic Matching</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="running-your-analyzer.html">Running Your Analyzer</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="indexing-and-basic-data-operations.html">Indexing and Basic Data Operations</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="introduction-to-solr-indexing.html">Introduction to Solr Indexing</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="post-tool.html">Post Tool</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="uploading-data-with-index-handlers.html">Uploading Data with Index Handlers</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="transforming-and-indexing-custom-json.html">Transforming and Indexing Custom JSON</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="uploading-data-with-solr-cell-using-apache-tika.html">Uploading Data with Solr Cell using Apache Tika</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="uploading-structured-data-store-data-with-the-data-import-handler.html">Uploading Structured Data Store Data with the Data Import Handler</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="updating-parts-of-documents.html">Updating Parts of Documents</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="detecting-languages-during-indexing.html">Detecting Languages During Indexing</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="de-duplication.html">De-Duplication</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="content-streams.html">Content Streams</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="uima-integration.html">UIMA Integration</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="searching.html">Searching</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="overview-of-searching-in-solr.html">Overview of Searching in Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="velocity-search-ui.html">Velocity Search UI</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="relevance.html">Relevance</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="query-syntax-and-parsing.html">Query Syntax and Parsing</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="common-query-parameters.html">Common Query Parameters</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="the-standard-query-parser.html">The Standard Query Parser</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="the-dismax-query-parser.html">The DisMax Query Parser</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="the-extended-dismax-query-parser.html">The Extended DisMax Query Parser</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="function-queries.html">Function Queries</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="local-parameters-in-queries.html">Local Parameters in Queries</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="other-parsers.html">Other Parsers</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="faceting.html">Faceting</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="blockjoin-faceting.html">BlockJoin Faceting</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="highlighting.html">Highlighting</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="spell-checking.html">Spell Checking</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="query-re-ranking.html">Query Re-Ranking</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="learning-to-rank.html">Learning To Rank</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="transforming-result-documents.html">Transforming Result Documents</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="suggester.html">Suggester</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="morelikethis.html">MoreLikeThis</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="pagination-of-results.html">Pagination of Results</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="collapse-and-expand-results.html">Collapse and Expand Results</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="result-grouping.html">Result Grouping</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="result-clustering.html">Result Clustering</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="spatial-search.html">Spatial Search</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-terms-component.html">The Terms Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-term-vector-component.html">The Term Vector Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-stats-component.html">The Stats Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-query-elevation-component.html">The Query Elevation Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="response-writers.html">Response Writers</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="velocity-response-writer.html">Velocity Response Writer</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="near-real-time-searching.html">Near Real Time Searching</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="realtime-get.html">RealTime Get</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="exporting-result-sets.html">Exporting Result Sets</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="streaming-expressions.html">Streaming Expressions</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="graph-traversal.html">Graph Traversal</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="parallel-sql-interface.html">Parallel SQL Interface</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="solr-jdbc-dbvisualizer.html">Solr JDBC - DbVisualizer</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-squirrel-sql.html">Solr JDBC - SQuirreL SQL</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-apache-zeppelin.html">Solr JDBC - Apache Zeppelin</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-python-jython.html">Solr JDBC - Python/Jython</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-r.html">Solr JDBC - R</a>
            
          </li>
          
        </ul>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="the-well-configured-solr-instance.html">The Well-Configured Solr Instance</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="configuring-solrconfig-xml.html">Configuring solrconfig.xml</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="datadir-and-directoryfactory-in-solrconfig.html">DataDir and DirectoryFactory in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="lib-directives-in-solrconfig.html">Lib Directives in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="schema-factory-definition-in-solrconfig.html">Schema Factory Definition in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="indexconfig-in-solrconfig.html">IndexConfig in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="requesthandlers-and-searchcomponents-in-solrconfig.html">RequestHandlers and SearchComponents in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="initparams-in-solrconfig.html">InitParams in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="updatehandlers-in-solrconfig.html">UpdateHandlers in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="query-settings-in-solrconfig.html">Query Settings in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="requestdispatcher-in-solrconfig.html">RequestDispatcher in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="update-request-processors.html">Update Request Processors</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="codec-factory.html">Codec Factory</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-cores-and-solr-xml.html">Solr Cores and solr.xml</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="format-of-solr-xml.html">Format of solr.xml</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="defining-core-properties.html">Defining core.properties</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="coreadmin-api.html">CoreAdmin API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="config-sets.html">Config Sets</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="configuration-apis.html">Configuration APIs</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="blob-store-api.html">Blob Store API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="config-api.html">Config API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="request-parameters-api.html">Request Parameters API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="managed-resources.html">Managed Resources</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="implicit-requesthandlers.html">Implicit RequestHandlers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-plugins.html">Solr Plugins</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="adding-custom-plugins-in-solrcloud-mode.html">Adding Custom Plugins in SolrCloud Mode</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="jvm-settings.html">JVM Settings</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="managing-solr.html">Managing Solr</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="taking-solr-to-production.html">Taking Solr to Production</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="securing-solr.html">Securing Solr</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="authentication-and-authorization-plugins.html">Authentication and Authorization Plugins</a>
            
            <ul>
              
              <li class="sb-level4">
                <a href="basic-authentication-plugin.html">Basic Authentication Plugin</a>
                
              </li>
              
              <li class="sb-level4">
                <a href="hadoop-authentication-plugin.html">Hadoop Authentication Plugin</a>
                
              </li>
              
              <li class="sb-level4">
                <a href="kerberos-authentication-plugin.html">Kerberos Authentication Plugin</a>
                
              </li>
              
              <li class="sb-level4">
                <a href="rule-based-authorization-plugin.html">Rule-Based Authorization Plugin</a>
                
              </li>
              
            </ul>
            
          </li>
          
          <li class="sb-level3">
            <a href="enabling-ssl.html">Enabling SSL</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="running-solr-on-hdfs.html">Running Solr on HDFS</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="making-and-restoring-backups.html">Making and Restoring Backups</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="configuring-logging.html">Configuring Logging</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-jmx-with-solr.html">Using JMX with Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="mbean-request-handler.html">MBean Request Handler</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="performance-statistics-reference.html">Performance Statistics Reference</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="metrics-reporting.html">Metrics Reporting</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="v2-api.html">v2 API</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="solrcloud.html">SolrCloud</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="getting-started-with-solrcloud.html">Getting Started with SolrCloud</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="how-solrcloud-works.html">How SolrCloud Works</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="shards-and-indexing-data-in-solrcloud.html">Shards and Indexing Data in SolrCloud</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="distributed-requests.html">Distributed Requests</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="read-and-write-side-fault-tolerance.html">Read and Write Side Fault Tolerance</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="solrcloud-configuration-and-parameters.html">SolrCloud Configuration and Parameters</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="setting-up-an-external-zookeeper-ensemble.html">Setting Up an External ZooKeeper Ensemble</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="using-zookeeper-to-manage-configuration-files.html">Using ZooKeeper to Manage Configuration Files</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="zookeeper-access-control.html">ZooKeeper Access Control</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="collections-api.html">Collections API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="parameter-reference.html">Parameter Reference</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="command-line-utilities.html">Command Line Utilities</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solrcloud-with-legacy-configuration-files.html">SolrCloud with Legacy Configuration Files</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="configsets-api.html">ConfigSets API</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="rule-based-replica-placement.html">Rule-based Replica Placement</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="cross-data-center-replication-cdcr-.html">Cross Data Center Replication (CDCR)</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="legacy-scaling-and-distribution.html">Legacy Scaling and Distribution</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="introduction-to-scaling-and-distribution.html">Introduction to Scaling and Distribution</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="distributed-search-with-index-sharding.html">Distributed Search with Index Sharding</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="index-replication.html">Index Replication</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="combining-distribution-and-replication.html">Combining Distribution and Replication</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="merging-indexes.html">Merging Indexes</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="client-apis.html">Client APIs</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="introduction-to-client-apis.html">Introduction to Client APIs</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="choosing-an-output-format.html">Choosing an Output Format</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="client-api-lineup.html">Client API Lineup</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-javascript.html">Using JavaScript</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-python.html">Using Python</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-solrj.html">Using SolrJ</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-solr-from-ruby.html">Using Solr From Ruby</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="major-changes-from-solr-5-to-solr-6.html">Major Changes from Solr 5 to Solr 6</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="upgrading-a-solr-cluster.html">Upgrading a Solr Cluster</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="indexupgrader-tool.html">IndexUpgrader Tool</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="further-assistance.html">Further Assistance</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="solr-glossary.html">Solr Glossary</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="errata.html">Errata</a>
    
  </li>
  
</ul>


<!-- set the 'active' class on the current page and ancestors -->
<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("#mysidebar a[href='schemaless-mode.html']").parents('li').toggleClass("active", true);</script>
<!-- set the 'current' class on the current page and 'current-tree' on the current page + it's ancestors -->
<!-- this can let us do css highlighting of the current page in the sidebar even if/when the user clicks around in the sidebar causing other sidebar elements to be 'active' -->
<script>
  $("#mysidebar a[href='schemaless-mode.html']").parent('li').toggleClass("current", true);
  $("#mysidebar a[href='schemaless-mode.html']").parents('li').toggleClass("current-tree", true);
</script>

    </div>
    <!-- Content Column -->
    <div class="col-md-9">
      <div class="post-header">
   <h1 class="post-title-main">Schemaless Mode</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 2, listType: 'ul', showSpeed: 0, headers: 'h2,h3' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    

<div id="main-content">
  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Schemaless Mode is a set of Solr features that, when used together, allow users to rapidly construct an effective schema by simply indexing sample data, without having to manually edit the schema. These Solr features, all controlled via <code>solrconfig.xml</code>, are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Managed schema: Schema modifications are made at runtime through Solr APIs, which requires the use of <code>schemaFactory</code> that supports these changes - see <a href="schema-factory-definition-in-solrconfig.html#schema-factory-definition-in-solrconfig">Schema Factory Definition in SolrConfig</a> for more details.</p>
</li>
<li>
<p>Field value class guessing: Previously unseen fields are run through a cascading set of value-based parsers, which guess the Java class of field values - parsers for Boolean, Integer, Long, Float, Double, and Date are currently available.</p>
</li>
<li>
<p>Automatic schema field addition, based on field value class(es): Previously unseen fields are added to the schema, based on field value Java classes, which are mapped to schema field types - see <a href="solr-field-types.html#solr-field-types">Solr Field Types</a>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="SchemalessMode-UsingtheSchemalessExample">Using the Schemaless Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The three features of schemaless mode are pre-configured in the <code>data_driven_schema_configs</code> <a href="config-sets.html#config-sets">config set</a> in the Solr distribution. To start an example instance of Solr using these configs, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="plain">bin/solr start -e schemaless</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will launch a Solr server, and automatically create a collection (named &#8220;<code>gettingstarted</code>&#8221;) that contains only three fields in the initial schema: <code>id</code>, <code><em>version</em></code>, and <code><em>text</em></code>.</p>
</div>
<div class="paragraph">
<p>You can use the <code>/schema/fields</code> <a href="schema-api.html#schema-api">Schema API</a> to confirm this: <code>curl <a href="http://localhost:8983/solr/gettingstarted/schema/fields" class="bare">http://localhost:8983/solr/gettingstarted/schema/fields</a></code> will output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript">{
  <span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #666666">:</span>{
    <span style="color: #BA2121">&quot;status&quot;</span><span style="color: #666666">:0</span>,
    <span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #666666">:1</span>},
  <span style="color: #BA2121">&quot;fields&quot;</span><span style="color: #666666">:</span>[{
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;_text_&quot;</span>,
      <span style="color: #BA2121">&quot;type&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;text_general&quot;</span>,
      <span style="color: #BA2121">&quot;multiValued&quot;</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">true</span>,
      <span style="color: #BA2121">&quot;indexed&quot;</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">true</span>,
      <span style="color: #BA2121">&quot;stored&quot;</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">false</span>},
    {
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;_version_&quot;</span>,
      <span style="color: #BA2121">&quot;type&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;long&quot;</span>,
      <span style="color: #BA2121">&quot;indexed&quot;</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">true</span>,
      <span style="color: #BA2121">&quot;stored&quot;</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">true</span>},
    {
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;id&quot;</span>,
      <span style="color: #BA2121">&quot;type&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;string&quot;</span>,
      <span style="color: #BA2121">&quot;multiValued&quot;</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">false</span>,
      <span style="color: #BA2121">&quot;indexed&quot;</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">true</span>,
      <span style="color: #BA2121">&quot;required&quot;</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">true</span>,
      <span style="color: #BA2121">&quot;stored&quot;</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">true</span>,
      <span style="color: #BA2121">&quot;uniqueKey&quot;</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">true</span>}]}</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Because the <code>data_driven_schema_configs</code> config set includes a <code>copyField</code> directive that causes all content to be indexed in a predefined "catch-all" <code><em>text</em></code> field, to enable single-field search that includes all fields' content, the index will be larger than it would be without the <code>copyField</code>. When you nail down your schema, consider removing the <code><em>text</em></code> field and the corresponding <code>copyField</code> directive if you don&#8217;t need it.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="SchemalessMode-ConfiguringSchemalessMode">Configuring Schemaless Mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As described above, there are three configuration elements that need to be in place to use Solr in schemaless mode. In the <code>data_driven_schema_configs</code> config set included with Solr these are already configured. If, however, you would like to implement schemaless on your own, you should make the following changes.</p>
</div>
<div class="sect2">
<h3 id="SchemalessMode-EnableManagedSchema">Enable Managed Schema</h3>
<div class="paragraph">
<p>As described in the section <a href="schema-factory-definition-in-solrconfig.html#schema-factory-definition-in-solrconfig">Schema Factory Definition in SolrConfig</a>, Managed Schema support is enabled by default, unless your configuration specifies that <code>ClassicIndexSchemaFactory</code> should be used.</p>
</div>
<div class="paragraph">
<p>You can configure the <code>ManagedIndexSchemaFactory</code> (and control the resource file used, or disable future modifications) by adding an explicit <code>&lt;schemaFactory/&gt;</code> like the one below, please see <a href="schema-factory-definition-in-solrconfig.html#schema-factory-definition-in-solrconfig">Schema Factory Definition in SolrConfig</a> for more details on the options available.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;schemaFactory</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;ManagedIndexSchemaFactory&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;bool</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;mutable&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>true<span style="color: #008000; font-weight: bold">&lt;/bool&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;managedSchemaResourceName&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>managed-schema<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/schemaFactory&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="SchemalessMode-DefineanUpdateRequestProcessorChain">Define an UpdateRequestProcessorChain</h3>
<div class="paragraph">
<p>The UpdateRequestProcessorChain allows Solr to guess field types, and you can define the default field type classes to use. To start, you should define it as follows (see the javadoc links below for update processor factory documentation):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;updateRequestProcessorChain</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;add-unknown-fields-to-the-schema&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
  <span style="color: #408080; font-style: italic">&lt;!-- UUIDUpdateProcessorFactory will generate an id if none is present in the incoming document --&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.UUIDUpdateProcessorFactory&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.RemoveBlankFieldUpdateProcessorFactory&quot;</span><span style="color: #008000; font-weight: bold">/&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.FieldNameMutatingUpdateProcessorFactory&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;pattern&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>[^\w-\.]<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;replacement&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>_<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/processor&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.ParseBooleanFieldUpdateProcessorFactory&quot;</span><span style="color: #008000; font-weight: bold">/&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.ParseLongFieldUpdateProcessorFactory&quot;</span><span style="color: #008000; font-weight: bold">/&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.ParseDoubleFieldUpdateProcessorFactory&quot;</span><span style="color: #008000; font-weight: bold">/&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.ParseDateFieldUpdateProcessorFactory&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;arr</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;format&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd&#39;T&#39;HH:mm:ss,SSSZ<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd&#39;T&#39;HH:mm:ss,SSS<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd&#39;T&#39;HH:mm:ssZ<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd&#39;T&#39;HH:mm:ss<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd&#39;T&#39;HH:mmZ<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd&#39;T&#39;HH:mm<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd HH:mm:ss.SSSZ<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd HH:mm:ss,SSSZ<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd HH:mm:ss.SSS<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd HH:mm:ss,SSS<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd HH:mm:ssZ<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd HH:mm:ss<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd HH:mmZ<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd HH:mm<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>yyyy-MM-dd<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/arr&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/processor&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;defaultFieldType&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>strings<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;typeMapping&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;valueClass&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>java.lang.Boolean<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;fieldType&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>booleans<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;typeMapping&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;valueClass&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>java.util.Date<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;fieldType&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>tdates<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;typeMapping&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;valueClass&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>java.lang.Long<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;valueClass&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>java.lang.Integer<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;fieldType&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>tlongs<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;typeMapping&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;valueClass&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>java.lang.Number<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;fieldType&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>tdoubles<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/processor&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.LogUpdateProcessorFactory&quot;</span><span style="color: #008000; font-weight: bold">/&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.DistributedUpdateProcessorFactory&quot;</span><span style="color: #008000; font-weight: bold">/&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;processor</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.RunUpdateProcessorFactory&quot;</span><span style="color: #008000; font-weight: bold">/&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/updateRequestProcessorChain&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Javadocs for update processor factories mentioned above:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://lucene.apache.org/solr/7_0_0//solr-core/org/apache/solr/update/processor/UUIDUpdateProcessorFactory.html">UUIDUpdateProcessorFactory</a></p>
</li>
<li>
<p><a href="https://lucene.apache.org/solr/7_0_0//solr-core/org/apache/solr/update/processor/RemoveBlankFieldUpdateProcessorFactory.html">RemoveBlankFieldUpdateProcessorFactory</a></p>
</li>
<li>
<p><a href="https://lucene.apache.org/solr/7_0_0//solr-core/org/apache/solr/update/processor/FieldNameMutatingUpdateProcessorFactory.html">FieldNameMutatingUpdateProcessorFactory</a></p>
</li>
<li>
<p><a href="https://lucene.apache.org/solr/7_0_0//solr-core/org/apache/solr/update/processor/ParseBooleanFieldUpdateProcessorFactory.html">ParseBooleanFieldUpdateProcessorFactory</a></p>
</li>
<li>
<p><a href="https://lucene.apache.org/solr/7_0_0//solr-core/org/apache/solr/update/processor/ParseLongFieldUpdateProcessorFactory.html">ParseLongFieldUpdateProcessorFactory</a></p>
</li>
<li>
<p><a href="https://lucene.apache.org/solr/7_0_0//solr-core/org/apache/solr/update/processor/ParseDoubleFieldUpdateProcessorFactory.html">ParseDoubleFieldUpdateProcessorFactory</a></p>
</li>
<li>
<p><a href="https://lucene.apache.org/solr/7_0_0//solr-core/org/apache/solr/update/processor/ParseDateFieldUpdateProcessorFactory.html">ParseDateFieldUpdateProcessorFactory</a></p>
</li>
<li>
<p><a href="https://lucene.apache.org/solr/7_0_0//solr-core/org/apache/solr/update/processor/AddSchemaFieldsUpdateProcessorFactory.html">AddSchemaFieldsUpdateProcessorFactory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="SchemalessMode-MaketheUpdateRequestProcessorChaintheDefaultfortheUpdateRequestHandler">Make the UpdateRequestProcessorChain the Default for the UpdateRequestHandler</h3>
<div class="paragraph">
<p>Once the UpdateRequestProcessorChain has been defined, you must instruct your UpdateRequestHandlers to use it when working with index updates (i.e., adding, removing, replacing documents). Here is an example using <a href="initparams-in-solrconfig.html#initparams-in-solrconfig">InitParams</a> to set the defaults on all <code>/update</code> request handlers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;initParams</span> <span style="color: #7D9029">path=</span><span style="color: #BA2121">&quot;/update/**&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;defaults&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;update.chain&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>add-unknown-fields-to-the-schema<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/initParams&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>After each of these changes have been made, Solr should be restarted (or, you can reload the cores to load the new <code>solrconfig.xml</code> definitions).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="SchemalessMode-ExamplesofIndexedDocuments">Examples of Indexed Documents</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once the schemaless mode has been enabled (whether you configured it manually or are using <code>data_driven_schema_configs</code> ), documents that include fields that are not defined in your schema should be added to the index, and the new fields added to the schema.</p>
</div>
<div class="paragraph">
<p>For example, adding a CSV document will cause its fields that are not in the schema to be added, with fieldTypes based on values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">curl <span style="color: #BA2121">&quot;http://localhost:8983/solr/gettingstarted/update?commit=true&quot;</span> -H <span style="color: #BA2121">&quot;Content-type:application/csv&quot;</span> -d <span style="color: #BA2121">&#39;</span>
<span style="color: #BA2121">id,Artist,Album,Released,Rating,FromDistributor,Sold</span>
<span style="color: #BA2121">44C,Old Shews,Mead for Walking,1988-08-13,0.01,14,0&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output indicating success:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>106<span style="color: #008000; font-weight: bold">&lt;/int&gt;&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The fields now in the schema (output from <code>curl <a href="http://localhost:8983/solr/gettingstarted/schema/fields" class="bare">http://localhost:8983/solr/gettingstarted/schema/fields</a></code> ):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript">{
  <span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #666666">:</span>{
    <span style="color: #BA2121">&quot;status&quot;</span><span style="color: #666666">:0</span>,
    <span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #666666">:1</span>},
  <span style="color: #BA2121">&quot;fields&quot;</span><span style="color: #666666">:</span>[{
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;Album&quot;</span>,
      <span style="color: #BA2121">&quot;type&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;strings&quot;</span>},      <span style="color: #408080; font-style: italic">// Field value guessed as String -&gt; strings fieldType</span>
    {
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;Artist&quot;</span>,
      <span style="color: #BA2121">&quot;type&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;strings&quot;</span>},      <span style="color: #408080; font-style: italic">// Field value guessed as String -&gt; strings fieldType</span>
    {
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;FromDistributor&quot;</span>,
      <span style="color: #BA2121">&quot;type&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;tlongs&quot;</span>},       <span style="color: #408080; font-style: italic">// Field value guessed as Long -&gt; tlongs fieldType</span>
    {
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;Rating&quot;</span>,
      <span style="color: #BA2121">&quot;type&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;tdoubles&quot;</span>},     <span style="color: #408080; font-style: italic">// Field value guessed as Double -&gt; tdoubles fieldType</span>
    {
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;Released&quot;</span>,
      <span style="color: #BA2121">&quot;type&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;tdates&quot;</span>},       <span style="color: #408080; font-style: italic">// Field value guessed as Date -&gt; tdates fieldType</span>
    {
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;Sold&quot;</span>,
      <span style="color: #BA2121">&quot;type&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;tlongs&quot;</span>},       <span style="color: #408080; font-style: italic">// Field value guessed as Long -&gt; tlongs fieldType</span>
    {
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;_text_&quot;</span>,
...
    },
    {
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;_version_&quot;</span>,
...
    },
    {
      <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">:</span><span style="color: #BA2121">&quot;id&quot;</span>,
...
    }]}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">You Can Still Be Explicit</div>
<div class="paragraph">
<p>Even if you want to use schemaless mode for most fields, you can still use the <a href="schema-api.html#schema-api">Schema API</a> to pre-emptively create some fields, with explicit types, before you index documents that use them.</p>
</div>
<div class="paragraph">
<p>Internally, the Schema API and the Schemaless Update Processors both use the same <a href="schema-factory-definition-in-solrconfig.html#schema-factory-definition-in-solrconfig">Managed Schema</a> functionality.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once a field has been added to the schema, its field type is fixed. As a consequence, adding documents with field value(s) that conflict with the previously guessed field type will fail. For example, after adding the above document, the &#8220;<code>Sold</code>&#8221; field has the fieldType <code>tlongs</code>, but the document below has a non-integral decimal value in this field:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">curl <span style="color: #BA2121">&quot;http://localhost:8983/solr/gettingstarted/update?commit=true&quot;</span> -H <span style="color: #BA2121">&quot;Content-type:application/csv&quot;</span> -d <span style="color: #BA2121">&#39;</span>
<span style="color: #BA2121">id,Description,Sold</span>
<span style="color: #BA2121">19F,Cassettes by the pound,4.93&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This document will fail, as shown in this output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>400<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>7<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;error&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;msg&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>ERROR: [doc=19F] Error adding field &#39;Sold&#39;=&#39;4.93&#39; msg=For input string: &quot;4.93&quot;<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;code&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>400<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>

<!-- Adds tags, if any -->
    <div class="tags">
        
    </div>

<!-- Adds nav links on each page -->
    
    
    <div class="scrollnav">
      
      <a class="btn btn-primary prev" href="docvalues.html">DocValues</a>
      
      
      <a class="btn btn-primary next" href="understanding-analyzers-tokenizers-and-filters.html">Understanding Analyzers, Tokenizers, and Filters</a>
      
    </div>
    

</div>

<!-- Adds comments from Apache's Comment system -->

<div id="comments_thread">
</div>
<script type="text/javascript" src="https://comments.apache.org/show_comments.lua?site=solrcwiki&style=https://home.apache.org/~ctargett/RefGuidePOC/jekyll/css/comments.css&page=schemaless-mode" async="true">
</script>
<noscript>
<iframe width="100%" height="500" src="https://comments.apache.org/iframe.lua?site=solrcwiki&style=https://home.apache.org/~ctargett/RefGuidePOC/jekyll/css/comments.css&page=schemaless-mode"></iframe>
</noscript>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 Apache Software Foundation. All rights reserved. <br />
 Site last generated: 2017-04-26 <br />
<p><img src="solr-sunOnly-small.png" alt="Apache Solr"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
  </div>
  <!-- /.container -->
</div>

</body>

</html>
